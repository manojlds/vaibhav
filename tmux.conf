# vaibhav tmux.conf â€” Optimized for remote AI coding from mobile
# Install: ln -sf ~/projects/vaibhav/tmux.conf ~/.tmux.conf

# --- General ---
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc"
set -g history-limit 50000
set -g escape-time 10
set -g focus-events on
set -g set-clipboard on

# --- Mouse (essential for mobile touch) ---
set -g mouse on

# --- Status Bar ---
set -g status-position top
set -g status-interval 5
set -g status-style "bg=default,fg=white"

# Left: session/project name
set -g status-left-length 30
set -g status-left "#[fg=black,bg=cyan,bold] #S #[fg=cyan,bg=default] "

# Right: host + time (useful when remote)
set -g status-right-length 40
set -g status-right "#[fg=white,dim]#H #[fg=cyan]%H:%M"

# Window tabs
set -g window-status-format " #[fg=white,dim]#I:#W "
set -g window-status-current-format "#[fg=black,bg=green,bold] #I:#W "
set -g window-status-separator ""

# --- Pane borders ---
set -g pane-border-style "fg=#444444"
set -g pane-active-border-style "fg=cyan"

# --- Keybindings ---

# Reload config
bind r source-file ~/.tmux.conf \; display-message "Config reloaded"

# Project switcher: prefix + p to list sessions (easy project switching)
bind p choose-session
# Quick switch: prefix + f to search sessions by name
bind f command-prompt -p "Switch to project:" "switch-client -t '%%'"

# Split panes (easier to remember)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# New window in same directory
bind c new-window -c "#{pane_current_path}"

# --- Mobile-friendly extras ---

# Larger pane navigation (easier to hit on mobile)
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Alt+number to switch windows (works well in Termux)
bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5

# Alt+n/p for next/previous window
bind -n M-n next-window
bind -n M-p previous-window

# Alt+s for session list (project switching without prefix)
bind -n M-s choose-session

# --- Prevent accidental detach ---
# Require confirmation for detach (helpful on mobile where key combos are tricky)
bind d confirm-before -p "Detach? (y/n)" detach-client
